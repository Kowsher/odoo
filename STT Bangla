from odoo import models, fields, api
import pyaudio

import speech_recognition as sr

class StudentRecord(models.Model):
    _name = "test.model"

    file = fields.Many2one("ir.model", string="model")
    name = fields.Char(string='Name of model', required=True)
    item_count = fields.Char( string='comment')

    @api.onchange('file')
    def STT_Bangla(self):
        if self.file:
            r = sr.Recognizer()
            with sr.Microphone() as source:
                print("Speak:")
                audio = r.listen(source)
            try:
                self.name = r.recognize_google(audio, language='bn')
            except sr.UnknownValueError:
                self.name = "Could not understand audio"
            except sr.RequestError as e:
                self.name = "Could not request results; {0}".format(e)
      






